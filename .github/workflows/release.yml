name: Release Pipeline

on:
  push:
    tags:
      - 'v*'

jobs:
  validate:
    uses: ./.github/workflows/validate.yml

  build-wheels:
    needs: validate
    uses: ./.github/workflows/wheel-build.yml

  docker:
    needs: build-wheels
    uses: ./.github/workflows/docker-build.yml

  publish-release:
    needs: [docker, build-wheels]
    uses: ./.github/workflows/publish-release.yml
